<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>3D Tetris</title>
        <link rel="shortcut icon" href="/favicon.ico" />
        <link href="src/styles/main.css" rel="stylesheet" />
    </head>
    <body>
        <canvas id="canvas" tabindex="0">
            If you can read this, HTML5 might not be supported on this
            browser...
        </canvas>

        <div id="left">
            <div class="widget" id="info">
                <p id="nextPiece"></p>
                <p id="score"></p>
            </div>

            <details class="widget" id="shaderInfo">
                <summary>Shader information</summary>
                <p id="shader"></p>

                Coefficients:
                <p class="widget">
                    ambient: <output id="ambientOutput">0.2</output><br />
                    <input
                        type="range"
                        id="ambientCoefficient"
                        value="0.2"
                        min="0"
                        max="1"
                        step="0.05" />
                </p>

                <p class="widget">
                    diffuse: <output id="diffuseOutput">0.7</output><br />
                    <input
                        type="range"
                        id="diffuseCoefficient"
                        value="0.7"
                        min="0"
                        max="1"
                        step="0.05" />
                </p>

                <p class="widget">
                    specular:
                    <output id="specularOutput">0.5</output><br />
                    <input
                        type="range"
                        id="specularCoefficient"
                        value="0.5"
                        min="0"
                        max="1"
                        step="0.05" />
                </p>
            </details>
        </div>

        <div id="right">
            <details class="widget" id="keybinds">
                <summary>Keybinds</summary>

                <h1>Movement</h1>
                <ul>
                    <li><u>p</u>: (un)pauses the game</li>
                    <li>
                        <u>-></u> or <u>d</u>: move in
                        <b class="xaxis">+x</b> direction
                    </li>
                    <li>
                        <u>&lt;-</u> or <u>a</u>: move in
                        <b class="xaxis">-x</b> direction
                    </li>
                    <li>
                        <u>/\</u> or <u>w</u>: move in
                        <b class="zaxis">-z</b> direction
                    </li>
                    <li>
                        <u>\/</u> or <u>s</u>: move in
                        <b class="zaxis">+z</b> direction
                    </li>
                    <li><u>space</u>: let the piece fall</li>
                </ul>

                <h1>Rotation</h1>
                <ul>
                    <li>
                        <u>x</u>: rotate ccw around <b class="xaxis">x</b> axis
                    </li>
                    <li>
                        <u>X</u>: rotate cw around <b class="xaxis">x</b> axis
                    </li>
                    <li>
                        <u>y</u>: rotate ccw around <b class="yaxis">y</b> axis
                    </li>
                    <li>
                        <u>Y</u>: rotate cw around <b class="yaxis">y</b> axis
                    </li>
                    <li>
                        <u>z</u>: rotate ccw around <b class="zaxis">z</b> axis
                    </li>
                    <li>
                        <u>Z</u>: rotate cw around <b class="zaxis">z</b> axis
                    </li>
                </ul>

                <h1>Viewport</h1>
                <ul>
                    <li>
                        <u>i</u>: rotate ccw around <b class="xaxis">x</b> axis
                    </li>
                    <li>
                        <u>k</u>: rotate cw around <b class="xaxis">x</b> axis
                    </li>
                    <li>
                        <u>j</u>: rotate ccw around <b class="yaxis">y</b> axis
                    </li>
                    <li>
                        <u>l</u>: rotate cw around <b class="yaxis">y</b> axis
                    </li>
                    <li>
                        <u>u</u>: rotate ccw around <b class="zaxis">z</b> axis
                    </li>
                    <li>
                        <u>o</u>: rotate cw around <b class="zaxis">z</b> axis
                    </li>
                    <li><u>+</u> or <u>scroll up</u>: zoom in</li>
                    <li><u>-</u> or <u>scroll down</u>: zoom out</li>
                    <li>
                        <u>dragging mouse</u>: rotate around
                        <b class="yaxis">y</b> axis
                    </li>
                </ul>

                <h1>Miscellaneous</h1>
                <ul>
                    <li><u>g</u>: toggle full grid</li>
                    <li><u>v</u>: toggle orthographic/perspective view</li>
                    <li><u>f</u>: switch shader (phong/gouraud)</li>
                    <li><u>v</u>: toggle between cubes/cylinders</li>
                    <li><u>m</u>: toggle music</li>
                    <li><u>#</u>: toggle axis overlay</li>
                </ul>
            </details>
        </div>
        <p id="deltaTime"></p>

        <div class="floatingwidget" id="startPopup">
            <h1 class="popupTitle">3D Tetris</h1>

            <form class="optionToggles">
                <u>Options:</u>

                <div class="option">
                    <label>
                        <input type="checkbox" id="playMusic" />
                        Music
                    </label>
                </div>

                <div class="option">
                    <label>
                        <input type="checkbox" id="enableCylinders" />
                        Cylinders
                    </label>
                </div>

                <div class="option">
                    <label>
                        <input type="checkbox" id="enableAxis" />
                        Axis
                    </label>
                </div>

                <div class="option">
                    <label>
                        <select id="fieldSize">
                            <option value="4x4" selected="selected">4x4</option>
                            <option value="5x5">5x5</option>
                            <option value="6x6">6x6</option>
                        </select>
                        Size
                    </label>
                </div>
            </form>

            <button id="startgame" class="popupButton" type="button">
                Start a new Game
            </button>
        </div>

        <div class="floatingwidget" id="gameoverPopup">
            <h1 class="popupTitle">Game Over</h1>
            <p id="finalscore">
                Final score: <output id="finalScoreVal">0</output>
            </p>

            <p>Leaderboard:</p>
            <table id="leaderboard"></table>

            <div class="buttonContainer">
                <button id="gotomenu" class="popupButton" type="button">
                    Back to menu
                </button>
                <button id="newgame" class="popupButton" type="button">
                    Start a new Game
                </button>
            </div>
        </div>

        <script type="module" src="src/ts/main.ts"></script>
    </body>
</html>
